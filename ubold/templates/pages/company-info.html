{% extends "vertical_base.html" %}
{% load static i18n %}
{% block head_title%}{% trans "Datatables" %}{% endblock head_title %}
{% block extra_css %}

<!-- third party css -->
<link
  href="{% static 'css/BBD.css' %}"
  rel="stylesheet"
  type="text/css"
/>
<link
  href="{% static 'libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css' %}"
  rel="stylesheet"
  type="text/css"
/>
<link
  href="{% static 'libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css' %}"
  rel="stylesheet"
  type="text/css"
/>
<link
  href="{% static 'libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css' %}"
  rel="stylesheet"
  type="text/css"
/>
<link
  href="{% static 'libs/datatables.net-select-bs4/css//select.bootstrap4.min.css' %}"
  rel="stylesheet"
  type="text/css"
/>
<!-- third party css end -->
{% endblock %}


{% block content %}
<div class="container-fluid">
  <!-- start page title -->
  <div class="row">
    <div class="col-12">
      <div class="page-title-box">
        <h4 class="page-title">
          기업정보
          {% if comp_name %}
            - {{ comp_name }}
          {% endif %}
        </h4>
      </div>
    </div>
  </div>
  <!-- end page title -->

{#  기업 목록 #}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="stockList" class="card-body">
          <div style="float: right">
{#            <h6 class="font-13 mt-3">검색어</h6>#}
            <form class="row g-3" action="/pages/companyinfo" method="get">
              <div class="col-auto">
                <label for="simpleinput" class="form-label" style="margin-bottom: 0">검색어</label>
{#                <input type="text" id="simpleinput" class="form-control">#}
              </div>
              <div class="col-auto">
{#                <label for="simpleinput" class="form-label">검색어</label>#}
                <input type="text" id="searchKeyword" name="searchKeyword" class="form-control"
                  value={{ request.GET.searchKeyword }}
                >
              </div>
              <div class="col-auto">
                <button type="submit" class="btn btn-primary waves-effect waves-light mb-2">
                  Submit
                </button>
              </div>
            </form>
          </div>

          <h4 class="header-title">기업목록</h4>
          <p class="text-muted font-13 mb-4">
            기업목록 항목 설명
          </p>

          <table
            id="stock_list_table"
            class="table dt-responsive nowrap w-100"
          >
            <thead>
              <tr>
                <th style="width:10px">Name</th>
                <th style="width:10px">시가총액</th>
                <th style="width:10px">주가</th>
                <th style="width:5px">주가변동률</th>
                <th style="width:10px">거래량</th>
                <th style="width:5px">PSR</th>
                <th style="width:5px">PER</th>
                <th style="width:5px">PEG</th>
                <th style="width:5px">PBR</th>
                <th style="width:5px">EPS</th>
                <th style="width:5px">ROE</th>
              </tr>
            </thead>

            <tbody>
              {% for row in stock_data_list %}
                <tr>
{#                  <td style="width:10px"><a href="/pages/companyinfo/{% url 'pages:company-info-detail' code=row.11 %}">{{ row.0}}</a></td>#}
                  <td style="width:10px"><a href="/pages/companyinfo/{{ row.11 }}">{{ row.0}}</a></td>
                  <td style="width:10px">{{ row.1 }}</td>
                  <td style="width:10px">{{ row.2 }}</td>
                  <td style="width:5px">{{ row.3 }}</td>
                  <td style="width:10px">{{ row.4 }}</td>
                  <td style="width:5px">{{ row.5 }}</td>
                  <td style="width:5px">{{ row.6 }}</td>
                  <td style="width:5px">{{ row.7 }}</td>
                  <td style="width:5px">{{ row.8 }}</td>
                  <td style="width:5px">{{ row.9 }}</td>
                  <td style="width:5px">{{ row.10 }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>
  <!-- end row-->

{#거래 데이터#}
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div id="priceItem" class="card-body">
          <h4 class="header-title">거래 데이터</h4>
          <div class="loading" >
            <div class="spinner-border avatar-md"></div>
          </div>
          <div class="itemContent">
            <div
              id="combine-chart"
              data-colors="#e3eaef,#f1556c,#1abc9c"
              class="flot-chart mt-5"
              style="height: 350px;"
            ></div>
          </div>

        </div>
      </div>
      <!-- end card -->
    </div>
    <!-- end col -->
  </div>
    <!-- end row -->

{#재무 데이터#}
{#  재무 정보 그래프 #}
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div id="financialGraphItem" class="card-body">
          <h4 class="header-title">재무 정보 그래프</h4>
          <div class="loading" >
            <div class="spinner-border avatar-md"></div>
          </div>
          <div class="itemContent">
            <div
              id="ordered-bars-chart"
              style="height: 350px; width: 100%;"
              class="mt-5"
              data-colors="#4fc6e1,#f7b84b,#4a81d4"
            ></div>
          </div>

        </div>
      </div>
      <!-- end card -->
    </div>
  </div>

{#  표괄손익계산서 #}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="incomeStatementItem" class="card-body">
          <h4 class="header-title">재무 데이터</h4>
          <p class="text-muted font-13 mb-4">
            재무 데이터
          </p>
          <div class="loading" >
            <div class="spinner-border avatar-md"></div>
          </div>
          <div class="itemContent">
            <table
            id="income_statement_table"
            class="table nowrap w-100"
            style=""
          >
            <thead>
              <tr>
                <th style="
                  {#width:10px;#}
                  position: sticky;
                  left: 0;
                  z-index: 99;
                  background-color: #e8e8e8;
                  {#border-right: 0.5px solid #a0a0a0;#}
                ">항목명</th>
                {%  for term in income_statement_term_list %}
                  <th style="width:2px">{{ term }}</th>
                {% endfor %}
              </tr>
            </thead>

            <tbody>
              {% for account_name, value_list in income_statement.items %}
                <tr>
                  <td style="
                    {#width:10px;#}
                    position: sticky;
                    left: 0;
                    z-index: 99;
                    background-color: #e8e8e8;
                    {#border-right: 1px solid gray;#}
                  "
                      class="balance_sheet_account_lv{{ value_list.level }}"
                  >
                    {% for i in value_list.level %}
                      {{ "&nbsp;&nbsp;&nbsp;&nbsp;" }}
{#                      {% if forloop.last %}#}
{#                        {{ "ㄴ" }}#}
{#                      {% endif %}#}
                    {% endfor %}
                    {{ account_name }}
                  </td> {% comment %}value_list.level{% endcomment %}
                  {%  for term, value in value_list.data_list.items %}
                    <td style="width:2px">{{ value }}</td>
                  {% endfor %}
                </tr>
              {% endfor %}

            </tbody>
          </table>
          </div>
        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#  재무상태표#}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="balanceSheetItem" class="card-body">
          <h4 class="header-title">재무제표</h4>
          <p class="text-muted font-13 mb-4">
            재무제표
          </p>

          <div class="loading" >
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <table
            id="balance_sheet_table"
            class="table nowrap w-100"
            style="display: none;"
          >
            <thead>
              <tr>
                <th style="
                  {#width:10px;#}
                  position: sticky;
                  left: 0;
                  z-index: 99;
                  background-color: #e8e8e8;
                  {#border-right: 0.5px solid #a0a0a0;#}
                ">항목명</th>
                {%  for term in balance_sheet_term_list %}
                  <th style="width:2px">{{ term }}</th>
                {% endfor %}
              </tr>
            </thead>

            <tbody>
              {% for account_name, value_list in balance_sheet.items %}
                <tr>
                  <td style="
                    {#width:10px;#}
                    position: sticky;
                    left: 0;
                    z-index: 99;
                    background-color: #e8e8e8;
                    {#border-right: 1px solid gray;#}
                  "
                      class="balance_sheet_account_lv{{ value_list.level }}"
                  >
                    {% for i in value_list.level %}
                      {{ "&nbsp;&nbsp;&nbsp;&nbsp;" }}
{#                      {% if forloop.last %}#}
{#                        {{ "ㄴ" }}#}
{#                      {% endif %}#}
                    {% endfor %}
                    {{ account_name }}
                  </td> {% comment %}value_list.level{% endcomment %}
                  {%  for term, value in value_list.data_list.items %}
                    <td style="width:2px">{{ value }}</td>
                  {% endfor %}
                </tr>
              {% endfor %}

            </tbody>
          </table>
          </div>

        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#  현금흐름표#}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="cashflowStatementItem" class="card-body">
          <h4 class="header-title">현금 흐름표</h4>
          <p class="text-muted font-13 mb-4">
            현금 흐름표
          </p>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <table
            id="cashflow_statement_table"
            class="table nowrap w-100"
          >
            <thead>
              <tr>
                <th style="
                  {#width:10px;#}
                  position: sticky;
                  left: 0;
                  z-index: 99;
                  background-color: #e8e8e8;
                  {#border-right: 0.5px solid #a0a0a0;#}
                ">항목명</th>
                {%  for term in cashflow_statement_term_list %}
                  <th style="width:2px">{{ term }}</th>
                {% endfor %}
              </tr>
            </thead>

            <tbody>
              {% for account_name, value_list in cashflow_statement.items %}
                <tr>
                  <td style="
                    {#width:10px;#}
                    position: sticky;
                    left: 0;
                    z-index: 99;
                    background-color: #e8e8e8;
                    {#border-right: 1px solid gray;#}
                  "
                      class="balance_sheet_account_lv{{ value_list.level }}"
                  >
                    {% for i in value_list.level %}
                      {{ "&nbsp;&nbsp;&nbsp;&nbsp;" }}
{#                      {% if forloop.last %}#}
{#                        {{ "ㄴ" }}#}
{#                      {% endif %}#}
                    {% endfor %}
                    {{ account_name }}
                  </td> {% comment %}value_list.level{% endcomment %}
                  {%  for term, value in value_list.data_list.items %}
                    <td style="width:2px">{{ value }}</td>
                  {% endfor %}
                </tr>
              {% endfor %}

            </tbody>
          </table>
          </div>

        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#공시#}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="noticeItem" class="card-body">
          <h4 class="header-title">공시</h4>
          <p class="text-muted font-13 mb-4">
            공시
          </p>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <table
            id="notice-table"
            class="table dt-responsive nowrap w-100"
          >
            <thead>
              <tr>
                <th style="width:20px">제목</th>
                <th style="width:10px">날짜</th>
                <th style="width:5px">링크</th>
              </tr>
            </thead>

            <tbody>
              {% for notice in notice_list %}
                <tr>
                  <td style="width:20px">{{ notice.title }}</td>
                  <td style="width:10px">{{ notice.data_date }}</td>
                  <td style="width:5px"><a href="http://dart.fss.or.kr/dsaf001/main.do?rcpNo={{ notice.receipt_no }}">링크</a></td>
                </tr>
              {% endfor %}

            </tbody>
          </table>
          </div>

        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#주주 정보 그래프. #}
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div id="shareholderGraphItem" class="card-body">
          <h4 class="header-title">주주 정보 그래프</h4>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <!-- 기간 선택 -->
            <div id="shareholder-term-select" style="display: flex; justify-content: center; width: 30%; ">
              <select id="shareholder-term-select-start" class="form-select" style="width:50%; ">
                {% for term in shareholder_term_list %}
                  <option value={{ forloop.counter0 }}>{{ term }}</option>
                {% endfor %}
              </select>
              <span style="font-size: 1vh;">&nbsp; ~ &nbsp;</span>
              <select id="shareholder-term-select-end" class="form-select" disabled="disabled" style="width: 50%; ">

              </select>
            </div>

            <!-- 그래프. -->
            <div style="display: flex; justify-content: center;">
              <div
                id="shareholder-graph"
                style="height: 1500px; width:90%; display:inline-block;"
  {#              class="mt-5"#}
                data-colors="#4fc6e1,#f7b84b,#4a81d4"
              ></div>
              <div id="shareholder-legend" style="
                height: 1500px;
                width:10%;
              "></div>
            </div>
          </div>
        </div>
      </div>
      <!-- end card -->
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id=shareholderTableItem" class="card-body">
          <h4 class="header-title">주주 정보</h4>
          <p class="text-muted font-13 mb-4">
            주주 정보
          </p>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <table
            id="shareholder-table"
            class="table w-100 nowrap"
          >
            <thead>
              <tr>
                <th style="
                  {#width:10px;#}
                  position: sticky;
                  left: 0;
                  z-index: 99;
                  background-color: #e8e8e8;
                  {#border-right: 1px solid gray;#}
                ">항목명</th>
                {%  for term in shareholder_term_list %}
                  <th style="width:2px">{{ term }}</th>
                {% endfor %}
              </tr>
            </thead>

            <tbody>
              {% for shareholder_name, value_list in shareholder_list.items %}
                <tr>
                  <td style="
                    {#width:10px;#}
                    position: sticky;
                    left: 0;
                    z-index: 99;
                    background-color: #e8e8e8;
                    {#border-right: 1px solid gray;#}
                  ">{{ shareholder_name }}</td>
                  {%  for term, value in value_list.items %}
                    <td style="width:2px">{{ value }}</td>
                  {% endfor %}
                </tr>
              {% endfor %}

            </tbody>
          </table>
          </div>

        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#배당 정보 그래프#}
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div id="dividendGraphItem" class="card-body">
          <h4 class="header-title" >배당 정보 그래프</h4>
{#          항목 그래프 checkbox#}

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <div style="display: flex; justify-content: center; margin-top:3vh">
            <div style="
              {#float: left;#}
              display: inline-block;
              width: 15%;
            ">
              <ul id="dividend-graph-account">

              </ul>
            </div>
            <div
              id="dividend-graph"
              style="
                height: 350px;
                width: 85%;
                {#padding-left:30%;#}
                display:inline-block;
                {#float:left;#}
              "
{#              class="mt-5"#}
              data-colors="#4fc6e1,#f7b84b,#4a81d4"
            ></div>
          </div>
          </div>
        </div>
      </div>
      <!-- end card -->
    </div>
  </div>

{#배당 정보 테이블#}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="dividendTableItem" class="card-body">
          <h4 class="header-title">배당 정보</h4>
          <p class="text-muted font-13 mb-4">
            배당 정보
          </p>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <table
            id="dividend-table"
            class="table w-100 nowrap"
          >
            <thead>
              <tr>
                <th style="
                  {#width:10px;#}
                  position: sticky;
                  left: 0;
                  z-index: 99;
                  background-color: #e8e8e8;
                  {#border-right: 1px solid gray;#}
                ">항목명</th>
                {%  for term in dividend_term_list %}
                  <th style="width:10px">{{ term }}</th>
                {% endfor %}
              </tr>
            </thead>

            <tbody>
              {% for account_name, value_list in dividend_list.items %}
                <tr>
                  <td style="
                    {#width:10px;#}
                    position: sticky;
                    left: 0;
                    z-index: 99;
                    background-color: #e8e8e8;
                    {#border-right: 1px solid gray;#}
                  ">{{ account_name }}</td>
                  {%  for term, value in value_list.items %}
                    <td style="width:10px">{{ value }}</td>
                  {% endfor %}
                </tr>
              {% endfor %}

            </tbody>
          </table>
          </div>

        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#평균급여 및 종업원 수 #}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="wcpItem" class="card-body">
          <h4 class="header-title">평균급여 및 종업원 수</h4>
          <p class="text-muted font-13 mb-4">
            평균급여 및 종업원 수
          </p>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <!--분기 선택 바-->
            <div style="margin-bottom: 3vh">
              <p class="sub-header">분기 선택</p>
              <input type="text" id="wcp_term_list_range"/>
            </div>

            <table
              id="wcp-table"
              class="table w-100 nowrap"
            >
              <thead>
                <tr>
                  <th style="width:20px">카테고리</th>
                  {%  for item in wcp_item_list %}
                    <th style="width:10px">{{ item }}</th>
                  {% endfor %}
                </tr>
              </thead>

              <tbody>
                {% for category, value_list in temp_wcp_data.items %}
                  <tr>
                    <td style="width:20px">{{ category }}</td>
                    {%  for item, value in value_list.items %}
                      <td style="width:10px">{{ value }}</td>
                    {% endfor %}
                  </tr>
                {% endfor %}

              </tbody>
            </table>
          </div>
        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>

{#임직원 숫자 추이 그래프. #}
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div id="staffNumberItem" class="card-body">
          <h4 class="header-title" >임직원 숫자 추이</h4>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>

          <div class="itemContent">
            <div style="display: flex; justify-content: center; margin-top:3vh">
              <div
                id="staff-number-graph"
                style="
                  height: 350px;
                  width: 85%;
                  {#padding-left:30%;#}
                  display:inline-block;
                  {#float:left;#}
                "
  {#              class="mt-5"#}
                data-colors="#4fc6e1,#f7b84b,#4a81d4"
              ></div>
            </div>
          </div>


        </div>
      </div>
      <!-- end card -->
    </div>
  </div>

{#이사회 평균 보수 그래프. #}
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div id="boardMemberAverageWageItem" class="card-body">
          <h4 class="header-title" >이사회 평균 보수</h4>
          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>
          <div class="itemContent">
            <div style="display: flex; justify-content: center; margin-top:3vh">
              <div
                id="board-member-average-wage-graph"
                style="
                  height: 350px;
                  width: 85%;
                  {#padding-left:30%;#}
                  display:inline-block;
                  {#float:left;#}
                "
  {#              class="mt-5"#}
                data-colors="#4fc6e1,#f7b84b,#4a81d4"
              ></div>
            </div>

          </div>

        </div>
      </div>
      <!-- end card -->
    </div>
  </div>

{#이사회 임원 목록#}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div id="boardMemberItem" class="card-body">
          <h4 class="header-title">이사회 임원 목록</h4>
          <p class="text-muted font-13 mb-4">
            이사회 임원 목록
          </p>

          <div class="loading">
            <div class="spinner-border avatar-md"></div>
          </div>
          <div class="itemContent">
            <!--분기 선택 바-->
            <div style="margin-bottom: 3vh">
              <p class="sub-header">분기 선택</p>
              <input type="text" id="board_member_term_list_range"/>
            </div>

            <table
              id="board-member-table"
              class="table w-100 nowrap"
            >
              <thead>
                <tr>
  {#                <th style="width:20px">카테고리</th>#}
                  {%  for item in board_member_data.item_list %}
                    <th style="width:10px">{{ item }}</th>
                  {% endfor %}
                </tr>
              </thead>

              <tbody>
                {% for value_list in board_member_data.last_term_data  %}
                  <tr>
  {#                  <td style="width:20px">{{ category }}</td>#}
                    {%  for value in value_list %}
                      <td style="width:10px">{{ value }}</td>
                    {% endfor %}
                  </tr>
                {% endfor %}

              </tbody>
            </table>

            <h4 class="header-title" style="margin-top:8vh">이사회 임원 보수 정보</h4>
            <p class="text-muted font-13 mb-4">
              이사회 임원 보수 정보
            </p>

            <table
              id="bm-personal-wage-table"
              class="table w-100 nowrap"
            >
              <thead>
                <tr>
  {#                <th style="width:20px">카테고리</th>#}
                  {%  for item in bm_personal_wage_data.item_list %}
                    <th style="width:10px">{{ item }}</th>
                  {% endfor %}
                </tr>
              </thead>

              <tbody>
                {% for value_list in bm_personal_wage_data.last_term_data  %}
                  <tr>
  {#                  <td style="width:20px">{{ category }}</td>#}
                    {%  for value in value_list %}
                      <td style="width:10px">{{ value }}</td>
                    {% endfor %}
                  </tr>
                {% endfor %}

              </tbody>
            </table>
          </div>

        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>


{#  상위 보수자 목록#}
  {% comment %}<div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <h4 class="header-title">상위 보수 지급자 목록</h4>
          <p class="text-muted font-13 mb-4">
            상위 보수 지급자 목록
          </p>

          <table
            id="executive-wage-table"
            class="table w-100 nowrap"
          >
            <thead>
              <tr>
                <th style="width:20px">이름</th>
                <th style="width:20px">직책</th>
                <th style="width:20px">보수</th>
              </tr>
            </thead>

            <tbody>
              {% for executive_wage in executive_wage_list %}
                <tr>
                  <td style="width:20px">{{ executive_wage.worker_name }}</td>
                  <td style="width:20px">{{ executive_wage.worker_position }}</td>
                  <td style="width:20px">{{ executive_wage.wage }}</td>
                </tr>
              {% endfor %}

            </tbody>
          </table>
        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>{% endcomment %}

{#  인물 정보 iframe. #}
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <button class="btn-primary width-xl btn-lg" id="peopleIframe">인물 정보</button>



        </div>
        <!-- end card body-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
  </div>


{#  <div class="row">#}
{#    <div class="col-12">#}
{#      <div class="card">#}
{#        <div class="card-body">#}
{#          <div id="peopleIframeDiv" style="#}
            {#position:absolute; top:-360px; left:0px; overflow-x:hidden; overflow-y:hidden; width:700px;#}
{#            /* position: absolute; */#}
{#            /* top: -360px; */#}
{#            /* left: 0px; */#}
{#            overflow-x: hidden;#}
{#            overflow-y: hidden;#}
{#            width: 1215px;#}
{#            height: 702px;#}
{#          ">#}
{#            <iframe id="peopleIframe" src="https://www.businesspost.co.kr/BP?command=power" scrolling="no" style="#}
{#              position: relative;#}
{#              width: 100vw;#}
{#              height: 300vh;#}
{#              top: -2073px;#}
{#              left: -672px;#}
{#            "></iframe>#}
{#          </div>#}
{##}
{#        <!-- end card body-->#}
{#      </div>#}
{#      <!-- end card -->#}
{#    </div>#}
{#    <!-- end col-->#}
{#  </div>#}

</div>

{% endblock %}

{% block extra_javascript %}

  <script>
    $("#peopleIframe").click(function (){
      var win = window.open("/pages/peopleIframe", "_blank")
    })


  </script>

<!-- Third party js -->
<script src="{% static 'libs/datatables.net/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-buttons/js/buttons.flash.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-keytable/js/dataTables.keyTable.min.js' %}"></script>
<script src="{% static 'libs/datatables.net-select/js/dataTables.select.min.js' %}"></script>
<script src="{% static 'libs/pdfmake/build/pdfmake.min.js' %}"></script>
<script src="{% static 'libs/pdfmake/build/vfs_fonts.js' %}"></script>
<!-- Third party js ends -->

<!-- Init js -->
<script src="{% static 'js/pages/datatables.init.js' %}"></script>
<script>
$(document).ready(function () {
    $("#basic-datatable").DataTable({
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}}, drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    });
    var a = $("#datatable-buttons").DataTable({
        lengthChange: !1,
        buttons: [{extend: "copy", className: "btn-light"}, {extend: "print", className: "btn-light"}, {extend: "pdf", className: "btn-light"}],
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    });
    $("#selection-datatable").DataTable({
        select: {style: "multi"},
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $("#key-datatable").DataTable({
        keys: !0,
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), a.buttons().container().appendTo("#datatable-buttons_wrapper .col-md-6:eq(0)"), $("#alternative-page-datatable").DataTable({
        pagingType: "full_numbers",
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $("#scroll-vertical-datatable").DataTable({
        scrollY: !0,
        scrollCollapse: !0,
        paging: !1,
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $("#stock_list_table").DataTable({
        scrollY: true,
        scrollCollapse: true,
        {#paging: true,#}
        searching: false,
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $("#executive-wage-table").DataTable({
        scrollX: !0,
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $("#scroll-horizontal-datatable").DataTable({
        scrollX: !0,
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $("#complex-header-datatable").DataTable({
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        },
        columnDefs: [{visible: !1, targets: -1}]
    }), $("#row-callback-datatable").DataTable({
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        },
        createdRow: function (a, e, t) {
            15e4 < +e[5].replace(/[\$,]/g, "") && $("td", a).eq(5).addClass("text-danger")
        }
    }), $("#state-saving-datatable").DataTable({
        stateSave: !0,
        language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
        drawCallback: function () {
            $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
        }
    }), $(".dataTables_length select").addClass("form-select form-select-sm"), $(".dataTables_length select").removeClass("custom-select custom-select-sm"), $(".dataTables_length label").addClass("form-label")
});

</script>
<!-- Init js end -->


 <script src="{% static 'libs/flot-charts/jquery.flot.js' %}"></script>
<script src="{% static 'libs/flot-charts/jquery.flot.time.js' %}"></script>
<script src="{% static 'libs/jquery.flot.tooltip/js/jquery.flot.tooltip.min.js' %}"></script>
<script src="{% static 'libs/flot-charts/jquery.flot.resize.js' %}"></script>
<script src="{% static 'libs/flot-charts/jquery.flot.pie.js' %}"></script>
<script src="{% static 'libs/flot-charts/jquery.flot.selection.js' %}"></script>
<script src="{% static 'libs/flot-charts/jquery.flot.stack.js' %}"></script>
<script src="{% static 'libs/flot-orderbars/js/jquery.flot.orderBars.js' %}"></script>
<script src="{% static 'libs/flot-charts/jquery.flot.crosshair.js' %}"></script>

<script>
  !function (b) {
    "use strict";

    function a() {
        this.$body = b("body"), this.$realData = []
    }

    a.prototype.createPlotGraph = function (a, o, t, r, e, l, i) {
        b.plot(b(a), [{data: o, label: r[0], color: e[0]}, {data: t, label: r[1], color: e[1]}], {
            series: {
                lines: {
                    show: !0,
                    fill: !0,
                    lineWidth: 2,
                    fillColor: {colors: [{opacity: .5}, {opacity: .5}, {opacity: .8}]}
                }, points: {show: !0}, shadowSize: 0
            },
            grid: {hoverable: !0, clickable: !0, borderColor: l, tickColor: "transparent", borderWidth: 1, labelMargin: 10, backgroundColor: i},
            legend: {
                position: "ne", margin: [0, -32], noColumns: 0, labelBoxBorderColor: null, labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                }, width: 30, height: 2
            },
            yaxis: {axisLabel: "Daily Visits", tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#8391a2"}},
            xaxis: {axisLabel: "Last Days", tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#8391a2"}},
            tooltip: !0,
            tooltipOpts: {content: "%s: Value of %x is %y", shifts: {x: -60, y: 25}, defaultTheme: !1},
            splines: {show: !0, tension: .1, lineWidth: 1}
        })
    }, a.prototype.createPlotDotGraph = function (a, o, t, r, e, l, i) {
        b.plot(b(a), [{data: o, label: r[0], color: e[0]}, {data: t, label: r[1], color: e[1]}], {
            series: {
                lines: {
                    show: !0,
                    fill: !1,
                    lineWidth: 3,
                    fillColor: {colors: [{opacity: .3}, {opacity: .3}]}
                }, curvedLines: {apply: !0, active: !0, monotonicFit: !0}, splines: {show: !0, tension: .4, lineWidth: 5, fill: .4}
            },
            grid: {hoverable: !0, clickable: !0, borderColor: l, tickColor: "#f9f9f9", borderWidth: 1, labelMargin: 10, backgroundColor: i},
            legend: {
                position: "ne", margin: [0, -32], noColumns: 0, labelBoxBorderColor: null, labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                }, width: 30, height: 2
            },
            yaxis: {axisLabel: "Gold Price(USD)", tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#8391a2"}},
            xaxis: {axisLabel: "Numbers", tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#8391a2"}},
            tooltip: !1
        })
    }, a.prototype.createPieGraph = function (a, o, t, r) {
        r = {
            series: {pie: {show: !0, radius: 1, label: {show: !0, radius: 1, background: {opacity: .2}}}},
            legend: {show: !(t = [{label: o[0], data: t[0]}, {label: o[1], data: t[1]}, {label: o[2], data: t[2]}, {label: o[3], data: t[3]}, {label: o[4], data: t[4]}])},
            grid: {hoverable: !0, clickable: !0},
            colors: r,
            tooltip: !0,
            tooltipOpts: {content: "%s, %p.0%"}
        }, b.plot(b(a), t, r)
    }, a.prototype.randomData = function () {
        for (0 < this.$realData.length && (this.$realData = this.$realData.slice(1)); this.$realData.length < 300;) {
            var a = (0 < this.$realData.length ? this.$realData[this.$realData.length - 1] : 50) + 10 * Math.random() - 5;
            a < 0 ? a = 0 : 100 < a && (a = 100), this.$realData.push(a)
        }
        for (var o = [], t = 0; t < this.$realData.length; ++t) o.push([t, this.$realData[t]]);
        return o
    }, a.prototype.createRealTimeGraph = function (a, o, t) {
        return b.plot(a, [o], {
            colors: t,
            series: {grow: {active: !1}, shadowSize: 0, lines: {show: !0, fill: !0, lineWidth: 2, steps: !1}},
            grid: {
                show: !0,
                aboveData: !1,
                color: "#8391a2",
                labelMargin: 15,
                axisMargin: 0,
                borderWidth: 0,
                borderColor: null,
                minBorderMargin: 5,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20
            },
            tooltip: !0,
            tooltipOpts: {content: "Value is : %y.0%", shifts: {x: -30, y: -50}},
            yaxis: {axisLabel: "Response Time (ms)", min: 0, max: 100, tickColor: "rgba(65, 80, 95, 0.07)", color: "#8391a2"},
            xaxis: {axisLabel: "Point Value (1000)", show: !0, tickColor: "rgba(65, 80, 95, 0.07)", color: "#8391a2"}
        })
    }, a.prototype.createDonutGraph = function (a, o, t, r) {
        r = {
            series: {pie: {show: !0, innerRadius: .5}},
            legend: {
                show: !(t = [{label: o[0], data: t[0]}, {label: o[1], data: t[1]}, {label: o[2], data: t[2]}, {label: o[3], data: t[3]}, {label: o[4], data: t[4]}]),
                labelFormatter: function (a, o) {
                    return '<div style="font-size:14px;">&nbsp;' + a + "</div>"
                },
                labelBoxBorderColor: null,
                margin: 50,
                width: 20
            },
            grid: {hoverable: !1, clickable: !1},
            colors: r,
            tooltip: !1
        }, b.plot(b(a), t, r)
    }, a.prototype.createStackBarGraph = function (a, o, t, r) {
        t = {
            bars: {show: !0, barWidth: .2, fill: 1},
            grid: {
                show: true,
                aboveData: false,
                labelMargin: 0,
                axisMargin: 0,
                borderWidth: 1,
                minBorderMargin: 0,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20,
                borderColor: "rgba(65, 80, 95, 0.07)"
            },
            series: {stack: 0},
            legend: {
                position: "ne", margin: [0, -32], noColumns: 0, labelBoxBorderColor: null, labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                }, width: 30, height: 2
            },
            yaxis: o.y,
            xaxis: o.x,
            colors: t,
            tooltip: !0,
            tooltipOpts: {content: "%s : %y.0", shifts: {x: -30, y: -50}}
        }, b.plot(b(a), r, t)
    }, a.prototype.createFinancialGraph = function (a, o, t, r) {
        t = {
            bars: {show: true, barWidth: 60*60*24*10*1000, fill: 1, align: "center",},
            grid: {
                show: true,
                aboveData: false,
                labelMargin: 0,
                axisMargin: 0,
                borderWidth: 1,
                minBorderMargin: 0,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20,
                borderColor: "rgba(65, 80, 95, 0.07)"
            },
            series: {
              stack: 0,
              bars:{
                barWidth: 1,
              }
            },
            legend: {
                position: "ne", margin: [0, -32], noColumns: 0, labelBoxBorderColor: null, labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                }, width: 30, height: 2
            },
            yaxis: o.y,
            xaxis: o.x,
            colors: t,
            tooltip: !0,
            tooltipOpts: {content: "%s : %y.0", shifts: {x: -30, y: -50}}
        }, b.plot(b(a), r, t)
    },

      {#      주주 정보 그래프 #}
      a.prototype.createShareholderGraph = function (a, xaxis, t, r) {
        t = {
            bars: {
              show: true,
              barWidth: 60*60*24*80*1000,//x축(수평그래프라면 y축)의 단위 기준. 현재 y축이 시간 단위이므로, millisecond단위로 값을 주어야 y축에서 그만큼에 해당하는 넓이를 부여함.
              fill: 1,
              align: "center",
              horizontal:true
            },
            grid: {
                show: true,
                aboveData: false,
                labelMargin: 5,
                axisMargin: 0,
                borderWidth: 1,
                minBorderMargin: 5,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20,
                borderColor: "rgba(65, 80, 95, 0.07)"
            },
            series: {
              stack: true,//쌓이는 그래프 on 설정.
            },
            legend: {
                position: "ne",
                margin: [-160, 0],
                noColumns: 1,
                labelBoxBorderColor: null,
                labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                },
                container: $("#shareholder-legend"),
                width: 30,
                height: 2,
            },
            {#yaxis: o.y,#}
            xaxis: {
                {#ticks: [0,100,100000],#}
                {% comment %}tickFormatter: function formatter(val, axis, precision){
                  if(Math.abs(val) > 1000000000){return (val/10000000000)+"B";}
                  else if(Math.abs(val) > 1000000){return(val/1000000)+"M";}
                  else if(Math.abs(val) > 1000){return (val/1000)+"T";}
                  else{return val;}
                },{% endcomment %}
                tickColor: "rgba(65, 80, 95, 0.07)",
                font: {color: "#8391a2"}
            },
            yaxis: {
              ticks: xaxis,
              {% comment %}tickFormatter: function (val, axis) {
                  console.log(val);
                  console.log(axis)
                  var d = new Date(val);
                  return d.getUTCFullYear() + "/" + (d.getUTCMonth()+1);
              },{% endcomment %}
              tickColor: "rgba(65, 80, 95, 0.07)",
              font: {color: "#8391a2"},
              mode: "time",//x축 시간 타입으로.
              timeformat: "%Y-%q분기",//시간 타입 형태.
              {#minTickSize: [1, "month"],#}
            },
            {#xaxis: o.x,#}
            colors: t,
            tooltip: true,
            tooltipOpts: {content: "%s : %x.2", shifts: {x: -30, y: -50}}//마우스 올려 놓았을 때 작은 설명 모달. %x가 x축 값, .2가 표시할 소수점 자리수.
        }, b.plot(b(a), r, t)
    },

      {#      배당 정보 그래프 #}
      a.prototype.createDividendGraph = function (a, o, t, r) {
        t = {
            bars: {
              show: false,
              barWidth: 60*60*24*80*1000,//x축(수평그래프라면 y축)의 단위 기준. 현재 y축이 시간 단위이므로, millisecond단위로 값을 주어야 y축에서 그만큼에 해당하는 넓이를 부여함.
              fill: 1,
              align: "center",
              horizontal:false
            },
            lines:{
              show:true,

            },
            grid: {
                show: true,
                aboveData: false,
                labelMargin: 5,
                axisMargin: 0,
                borderWidth: 1,
                minBorderMargin: 5,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20,
                borderColor: "rgba(65, 80, 95, 0.07)"
            },
            series: {
              stack: !1,
              bars:{
                barWidth: 1,
              }
            },
            legend: {
                position: "ne",
                margin: [0, -40],
                noColumns: 0,
                labelBoxBorderColor: null,
                labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                },
                width: 30,
                height: 2,
            },
            {#yaxis: o.y,#}
            yaxis: {
                {#ticks: [0,100,100000],#}
                {% comment %}tickFormatter: function formatter(val, axis, precision){
                  if(Math.abs(val) > 1000000000){return (val/10000000000)+"B";}
                  else if(Math.abs(val) > 1000000){return(val/1000000)+"M";}
                  else if(Math.abs(val) > 1000){return (val/1000)+"T";}
                  else{return val;}
                },{% endcomment %}
                tickColor: "rgba(65, 80, 95, 0.07)",
                font: {color: "#8391a2"}
            },
            xaxis: {
              ticks: {{ dividend_graph_timestamp_list|safe|default:"[]" }},
              {% comment %}tickFormatter: function (val, axis) {
                  console.log(val);
                  console.log(axis)
                  var d = new Date(val);
                  return d.getUTCFullYear() + "/" + (d.getUTCMonth()+1);
              },{% endcomment %}
              tickColor: "rgba(65, 80, 95, 0.07)",
              font: {color: "#8391a2"},
              mode: "time",//x축 시간 타입으로.
              timeformat: "%Y-%q분기",//시간 타입 형태.
              {#minTickSize: [1, "month"],#}
            },
            {#xaxis: o.x,#}
            colors: t,
            tooltip: true,
            tooltipOpts: {content: "%s : %x.2", shifts: {x: -30, y: -50}}//마우스 올려 놓았을 때 작은 설명 모달. %x가 x축 값, .2가 표시할 소수점 자리수.
        }, b.plot(b(a), r, t)
    },

    {#임직원 숫자 추이 그래프. #}
    a.prototype.createStaffNumberGraph = function (a, o, t, r, xaxis) {
        t = {
            bars: {
              show: false,
              barWidth: 60*60*24*80*1000,//x축(수평그래프라면 y축)의 단위 기준. 현재 y축이 시간 단위이므로, millisecond단위로 값을 주어야 y축에서 그만큼에 해당하는 넓이를 부여함.
              fill: 1,
              horizontal:false,
              align: "center",
            },
            lines:{
              show:true,
            },
            grid: {
                show: true,
                aboveData: false,
                labelMargin: 5,
                axisMargin: 0,
                borderWidth: 1,
                minBorderMargin: 5,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20,
                borderColor: "rgba(65, 80, 95, 0.07)"
            },
            series: {
              stack: !1,
              bars:{
                barWidth: 1,
              }
            },
            legend: {
                position: "ne",
                margin: [0, -40],
                noColumns: 0,
                labelBoxBorderColor: null,
                labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                },
                width: 30,
                height: 2,
            },
            {#yaxis: o.y,#}
            yaxis: {
                {#ticks: [0,100,100000],#}
                {% comment %}tickFormatter: function formatter(val, axis, precision){
                  if(Math.abs(val) > 1000000000){return (val/10000000000)+"B";}
                  else if(Math.abs(val) > 1000000){return(val/1000000)+"M";}
                  else if(Math.abs(val) > 1000){return (val/1000)+"T";}
                  else{return val;}
                },{% endcomment %}
                tickColor: "rgba(65, 80, 95, 0.07)",
                font: {color: "#8391a2"}
            },
            xaxis: {
              ticks: xaxis,
              {% comment %}tickFormatter: function (val, axis) {
                  console.log(val);
                  console.log(axis)
                  var d = new Date(val);
                  return d.getUTCFullYear() + "/" + (d.getUTCMonth()+1);
              },{% endcomment %}
              tickColor: "rgba(65, 80, 95, 0.07)",
              font: {color: "#8391a2"},
              mode: "time",//x축 시간 타입으로.
              timeformat: "%Y-%q분기",//시간 타입 형태.
              {#minTickSize: [1, "month"],#}
            },
            {#xaxis: o.x,#}
            colors: t,
            tooltip: true,
            tooltipOpts: {content: "%s : %x, %y명", shifts: {x: -30, y: -50}}//마우스 올려 놓았을 때 작은 설명 모달. %x가 x축 값, .2가 표시할 소수점 자리수.
        }, b.plot(b(a), r, t)
    },

    {#이사회 평균 보수 그래프. #}
    a.prototype.createBoardMemberAverageWageGraph = function (a, o, t, r, xaxis) {
        t = {
            bars: {
              show: false,
              barWidth: 60*60*24*80*1000,//x축(수평그래프라면 y축)의 단위 기준. 현재 y축이 시간 단위이므로, millisecond단위로 값을 주어야 y축에서 그만큼에 해당하는 넓이를 부여함.
              fill: 1,
              horizontal:false
            },
            lines:{
              show:true,
            },
            grid: {
                show: true,
                aboveData: false,
                labelMargin: 5,
                axisMargin: 0,
                borderWidth: 1,
                minBorderMargin: 5,
                clickable: !0,
                hoverable: !0,
                autoHighlight: !1,
                mouseActiveRadius: 20,
                borderColor: "rgba(65, 80, 95, 0.07)"
            },
            series: {
              stack: !1,
              bars:{
                barWidth: 1,
              }
            },
            legend: {
                position: "ne",
                margin: [0, -40],
                noColumns: 0,
                labelBoxBorderColor: null,
                labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                },
                width: 30,
                height: 2,
            },
            {#yaxis: o.y,#}
            yaxis: {
                {#ticks: [0,100,100000],#}
                {% comment %}tickFormatter: function formatter(val, axis, precision){
                  if(Math.abs(val) > 1000000000){return (val/10000000000)+"B";}
                  else if(Math.abs(val) > 1000000){return(val/1000000)+"M";}
                  else if(Math.abs(val) > 1000){return (val/1000)+"T";}
                  else{return val;}
                },{% endcomment %}
                tickColor: "rgba(65, 80, 95, 0.07)",
                font: {color: "#8391a2"}
            },
            xaxis: {
              ticks: xaxis,
              {% comment %}tickFormatter: function (val, axis) {
                  console.log(val);
                  console.log(axis)
                  var d = new Date(val);
                  return d.getUTCFullYear() + "/" + (d.getUTCMonth()+1);
              },{% endcomment %}
              tickColor: "rgba(65, 80, 95, 0.07)",
              font: {color: "#8391a2"},
              mode: "time",//x축 시간 타입으로.
              timeformat: "%Y-%q분기",//시간 타입 형태.
              {#minTickSize: [1, "month"],#}
            },
            {#xaxis: o.x,#}
            colors: t,
            tooltip: true,
            tooltipOpts: {content: "%s : %x, %y", shifts: {x: -30, y: -50}}//마우스 올려 놓았을 때 작은 설명 모달. %x가 x축 값, .2가 표시할 소수점 자리수.
        }, b.plot(b(a), r, t)
    },

    a.prototype.createLineGraph = function (a, o, t, r) {
        return t = {
            series: {lines: {show: !0}, points: {show: !0}},
            legend: {
                position: "ne", margin: [0, -32], noColumns: 0, labelBoxBorderColor: null, labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                }, width: 30, height: 2
            },
            yaxis: o.y,
            xaxis: o.x,
            colors: t,
            grid: {hoverable: !0, borderColor: "rgba(65, 80, 95, 0.07)", borderWidth: 1, backgroundColor: "transparent"},
            tooltip: !0,
            tooltipOpts: {content: "%s : %y.0", shifts: {x: -30, y: -50}}
        }, b.plot(b(a), r, t)
    },
    a.prototype.createCombineGraph = function (a, o, t, r, e) {
        o = {
            series: {shadowSize: 0},
            grid: {hoverable: !0, clickable: !0, tickColor: "#f9f9f9", borderWidth: 1, borderColor: "rgba(65, 80, 95, 0.07)"},
            tooltip: !0,
            colors: e,
            tooltipOpts: {
                defaultTheme: !(r = [
                  {#{#}
                  {#  label: t[0],#}
                  {#  data: r[0],#}
                  {#  color: e[0],#}
                  {#  lines: {show: !0, fill: !0},#}
                  {#  points: {show: !0} },#}
                  {
                    label: t[0],
                    data: r[0],
                    yaxis: 2,
                    color: "#4d7cd7",
                    lines: {show: !0},
                    points: {show: false} },
                  {
                    label: t[1],
                    data: r[1],
                    {#yaxis: 1,#}
                    color: e[1],
                    bars: {show: !0}
                  }
                ])
            },
            legend: {
                position: "ne", margin: [0, -32], noColumns: 0, labelBoxBorderColor: null, labelFormatter: function (a, o) {
                    return a + "&nbsp;&nbsp;"
                }, width: 30, height: 2
            },
            yaxes: [
              { axisLabel: "Point Value (1000)", position: "right",tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#f1556c"}},
              { axisLabel: "Point Value (1000)", position: "left", tickColor: "rgba(241,114,43,0.07)", font: {color: "#4d7cd7"}}
            ],
            xaxis: {axisLabel: "Daily Hours", ticks: o, tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#f37e2d"}}
        }, b.plot(b(a), r, o)
    },
    a.prototype.init = function () {
      var a = ["#4fc6e1", "#6658dd"], o = b("#website-stats").data("colors");
      // o && (a = o.split(",")), this.createPlotGraph("#website-stats", [[0, 13], [1, 22], [2, 27], [3, 36], [4, 40], [5, 25], [6, 36], [7, 20], [8, 12], [9, 20], [10, 48], [11, 16], [12, 14]], [[0, 28], [1, 56], [2, 26], [3, 20], [4, 21], [5, 25], [6, 19], [7, 22], [8, 35], [9, 28], [10, 36], [11, 19], [12, 11]], ["Bitcoin", "Ethereum", "Litecoin"], a, "rgba(65, 80, 95, 0.07)", "transparent"), a = ["#6658dd", "#f1556c"], (o = b("#website-stats1").data("colors")) && (a = o.split(",")), this.createPlotDotGraph("#website-stats1", [[0, 2], [1, 4], [2, 7], [3, 9], [4, 6], [5, 3], [6, 10], [7, 8], [8, 5], [9, 14], [10, 10], [11, 10], [12, 8]], [[0, 1], [1, 3], [2, 6], [3, 7], [4, 4], [5, 2], [6, 8], [7, 6], [8, 4], [9, 10], [10, 8], [11, 14], [12, 5]], ["Bitcoin", "Ethereum"], a, "rgba(65, 80, 95, 0.07)", "transparent"), a = ["#4a81d4", "#f672a7", "#f7b84b", "#4fc6e1", "#1abc9c"], (o = b("#pie-chart").data("colors")) && (a = o.split(",")), this.createPieGraph("#pie-chart", ["Bitcoin", "Ethereum", "Litecoin", "Bitcoin Cash", "Cardano"], [48, 30, 15, 32, 26], a), a = ["#4a81d4"], (o = b("#flotRealTime").data("colors")) && (a = o.split(","));
      var t = this.createRealTimeGraph("#flotRealTime", this.randomData(), [a]);
      t.draw();
      var r = this;
      !function a() {
          t.setData([r.randomData()]), t.draw(), setTimeout(a, (b("html").hasClass("mobile-device"), 500))
      }(), a = ["#4a81d4", "#f672a7", "#f7b84b", "#4fc6e1", "#1abc9c"], (o = b("#donut-chart").data("colors")) && (a = o.split(",")), this.createDonutGraph("#donut-chart", ["Bitcoin", "Ethereum", "Litecoin", "Bitcoin Cash", "Cardano"], [48, 30, 15, 32, 26], a);
      {#var trade_volume = {{ data_list|safe }}#}

      var mainObj = this
      var currentUrl = window.location.href
      var queryParameter = currentUrl.split("?")[1]
      {#var stockCode = window.location.href.split("companyinfo/")[1].split("?")[0].split("/")[0]#}
      var stockCode = currentUrl.split("?")[0].split("companyinfo/")[1]

      if(stockCode === undefined){//종목을 선택한 상태가 아니면,
        $(".card-body").css("display","none")//전체 데이터 항목 div 가림.
        $("#stockList").css("display", "block")
      }
      else{//종목 하나 선택했으면,
        {#$(".card-body").css("display","none")#}
        {#$("#stockList").css("display", "block")#}

        //거래 데이터 그래프.
        $.ajax({
          url: "/pages/ajax/companyinfo/priceData?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#priceItem .loading").css("display","none")
            $("#priceItem .itemContent").css("display", "block")

            var trade_volume_list = data["trade_volume_list"]
            var close_price_list = data["close_price_list"]
            var price_data_date = data["data_date"]
            var input_trade_volume_list = []
            var input_close_price_list = []
            var price_date_list = []
            for(var temp=0; temp<trade_volume_list.length;temp++){
              input_trade_volume_list.push([temp, trade_volume_list[temp]])
              input_close_price_list.push([temp, close_price_list[temp]])
              {#price_date_list.push([temp, price_data_date[temp]])#}
              if (price_data_date[temp].indexOf("12-31") != -1){ price_date_list.push([temp, price_data_date[temp]]) }
              else{ price_date_list.push([temp, ""])}
            }
            var e = [input_close_price_list, input_trade_volume_list],
                a = ["#f1556c", "#4d7cd7"];
            (o = b("#combine-chart").data("colors")) && (a = o.split(",")), mainObj.createCombineGraph("#combine-chart", price_date_list, ["주가", "거래량"], e, a);
          }
        })
        //거래 데이터 그래프.
        {% comment %}var trade_volume_list = {{ trade_volume_list|safe|default:"[]" }}
        var close_price_list = {{ close_price_list|safe|default:"[]" }}
        var price_data_date = {{ data_date|safe|default:"[]" }}
        var input_trade_volume_list = []
        var input_close_price_list = []
        var price_date_list = []
        for(var temp=0; temp<trade_volume_list.length;temp++){
          input_trade_volume_list.push([temp, trade_volume_list[temp]])
          input_close_price_list.push([temp, close_price_list[temp]])
          {#price_date_list.push([temp, price_data_date[temp]])#}
          if (price_data_date[temp].indexOf("12-31") != -1){ price_date_list.push([temp, price_data_date[temp]]) }
          else{ price_date_list.push([temp, ""])}
        }
        var xLabel = [[0, "22h"], [1, ""], [2, "00h"], [3, ""], [4, "02h"], [5, ""], [6, "04h"], [7, ""], [8, "06h"], [9, ""], [10, "08h"], [11, ""], [12, "10h"], [13, ""], [14, "12h"], [15, ""], [16, "14h"], [17, ""], [18, "16h"], [19, ""], [20, "18h"], [21, ""], [22, "20h"], [23, ""]]
        var e = [input_close_price_list, input_trade_volume_list],
            a = ["#f1556c", "#4d7cd7"];
        (o = b("#combine-chart").data("colors")) && (a = o.split(",")), this.createCombineGraph("#combine-chart", price_date_list, ["주가", "거래량"], e, a);{% endcomment %}

        //재무 데이터 그래프.
        $.ajax({
          url: "/pages/ajax/companyinfo/financialGraphData?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#financialGraphItem .loading").css("display","none")
            $("#financialGraphItem .itemContent").css("display", "block")

            var bar1 = data["financial_graph_data1"]
            var bar2 = data["financial_graph_data2"]
            var bar3 = data["financial_graph_data3"]

            e = new Array
            e.push({label: "수익", data: bar1, bars: {order: 1}})
            e.push({label: "영업이익(손실)", data: bar2, bars: {order: 2}})
            e.push({label: "총당기순이익", data: bar3, bars: {order: 3}})

            a = ["#4fc6e1", "#f7b84b", "#4a81d4"], (o = b("#ordered-bars-chart").data("colors")) && (a = o.split(","))
            mainObj.createFinancialGraph("#ordered-bars-chart", {
                y: {
                    {#axisLabel: "Sales Value (USD)",#}
                    {#ticks: [0,100,100000],#}
                    tickFormatter: function formatter(val, axis, precision){
                      if(Math.abs(val) > 1000000000){return (val/10000000000)+"B";}
                      else if(Math.abs(val) > 1000000){return(val/1000000)+"M";}
                      else if(Math.abs(val) > 1000){return (val/1000)+"T";}
                      else{return val;}
                    },
                    tickColor: "rgba(65, 80, 95, 0.07)",
                    font: {color: "#8391a2"}
                }, x: {
                  ticks: data["timestamp_data"],
                  tickFormatter: function (val, axis) {
                      console.log(val);
                      console.log(axis)
                      var d = new Date(val);
                      return d.getUTCFullYear() + "/" + (d.getUTCMonth()+1);
                  },
                  tickColor: "rgba(65, 80, 95, 0.07)",
                  font: {color: "#8391a2"},
                  mode: "time",//x축 시간 타입으로.
                  timeformat: "%Y-%q분기",//시간 타입 형태.
                  {#minTickSize: [1, "month"],#}
                  {#autoScale: "loose",#}
                  {#autoScaleMargin: 1,#}
                }
            }, a, e);
          }
        })
        {#재무 데이터 그래프. #}
        {% comment %}var bar1 = {{ financial_graph_data.financial_graph_data1|safe|default:"[]" }};
        var bar2 = {{ financial_graph_data.financial_graph_data2|safe|default:"[]" }};
        var bar3 = {{ financial_graph_data.financial_graph_data3|safe|default:"[]" }};

        (e = new Array).push({label: "수익", data: bar1, bars: {order: 1}}), e.push({label: "영업이익(손실)", data: bar2, bars: {order: 2}}), e.push({
            label: "총당기순이익",
            data: bar3,
            bars: {order: 3}
        }), a = ["#4fc6e1", "#f7b84b", "#4a81d4"], (o = b("#ordered-bars-chart").data("colors")) && (a = o.split(",")), this.createFinancialGraph("#ordered-bars-chart", {
            y: {
                {#axisLabel: "Sales Value (USD)",#}
                {#ticks: [0,100,100000],#}
                tickFormatter: function formatter(val, axis, precision){
                  if(Math.abs(val) > 1000000000){return (val/10000000000)+"B";}
                  else if(Math.abs(val) > 1000000){return(val/1000000)+"M";}
                  else if(Math.abs(val) > 1000){return (val/1000)+"T";}
                  else{return val;}
                },
                tickColor: "rgba(65, 80, 95, 0.07)",
                font: {color: "#8391a2"}
            }, x: {
              ticks: {{ financial_graph_data.timestamp_data|safe|default:"[]" }},
              tickFormatter: function (val, axis) {
                  console.log(val);
                  console.log(axis)
                  var d = new Date(val);
                  return d.getUTCFullYear() + "/" + (d.getUTCMonth()+1);
              },
              tickColor: "rgba(65, 80, 95, 0.07)",
              font: {color: "#8391a2"},
              mode: "time",//x축 시간 타입으로.
              timeformat: "%Y-%q분기",//시간 타입 형태.
              {#minTickSize: [1, "month"],#}
              {#autoScale: "loose",#}
              {#autoScaleMargin: 1,#}
            }
        }, a, e);{% endcomment %}

        //재무 상태표 테이블.
        $.ajax({
          url: "/pages/ajax/companyinfo/balanceSheet?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#balanceSheetItem .loading").css("display","none")
            $("#balanceSheetItem .itemContent").css("display", "block")

            var incomeStatementTermList = data["balance_sheet_term_list"]
            var incomeStatement = data["balance_sheet"]

            for(var i=0; i<incomeStatementTermList.length; i++){
              $("#balance_sheet_table > thead > tr").append(
                "<th style='width:2px'>"+incomeStatementTermList[i]+"</th>"
              )
            }

            var incomeStatementTable = $("#balance_sheet_table").DataTable({
              scrollX: "100%",
              scrollY: "600px",
              scrollCollapse: true,
              paging: false,
              ordering: false,
              fixedColumns: { left: "1" },
              language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
              drawCallback: function () { $(".dataTables_paginate > .pagination").addClass("pagination-rounded") }
            })

            var accountList = Object.keys(incomeStatement)
            var newRowList = []
            for(var i=0; i<accountList.length; i++){
              var newRow = []
              var accountName = accountList[i]
              var accountLv = incomeStatement[accountName]["level"].length
              var tabSize = "&nbsp;&nbsp;&nbsp;&nbsp;".repeat(accountLv)

              newRow = Object.values(incomeStatement[accountName]["data_list"])

              newRow.unshift(tabSize+accountName)
              newRowList.push(newRow)
            }

            incomeStatementTable.clear()//기존 데이터 row들 삭제.
            incomeStatementTable.rows.add(newRowList).draw()//정제된 데이터 삽입.
          }
        })

        //포괄 손익계산서 테이블.
        $.ajax({
          url: "/pages/ajax/companyinfo/incomeStatement?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#incomeStatementItem .loading").css("display","none")
            $("#incomeStatementItem .itemContent").css("display", "block")

            var incomeStatementTermList = data["income_statement_term_list"]
            var incomeStatement = data["income_statement"]

            for(var i=0; i<incomeStatementTermList.length; i++){
              $("#income_statement_table > thead > tr").append(
                "<th style='width:2px'>"+incomeStatementTermList[i]+"</th>"
              )
            }

            var incomeStatementTable = $("#income_statement_table").DataTable({
              scrollX: "100%",
              scrollY: "600px",
              scrollCollapse: true,
              paging: false,
              ordering: false,
              fixedColumns: { left: "1" },
              language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
              drawCallback: function () { $(".dataTables_paginate > .pagination").addClass("pagination-rounded") }
            })

            var accountList = Object.keys(incomeStatement)
            var newRowList = []
            for(var i=0; i<accountList.length; i++){
              var newRow = []
              var accountName = accountList[i]
              var accountLv = incomeStatement[accountName]["level"].length
              var tabSize = "&nbsp;&nbsp;&nbsp;&nbsp;".repeat(accountLv)

              newRow = Object.values(incomeStatement[accountName]["data_list"])

              newRow.unshift(tabSize+accountName)
              newRowList.push(newRow)
            }

            incomeStatementTable.clear()//기존 데이터 row들 삭제.
            incomeStatementTable.rows.add(newRowList).draw()//정제된 데이터 삽입.
          }
        })

        //현금 흐름표 테이블.
        $.ajax({
          url: "/pages/ajax/companyinfo/cashflow?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#cashflowStatementItem .loading").css("display","none")
            $("#cashflowStatementItem .itemContent").css("display", "block")

            var incomeStatementTermList = data["cashflow_statement_term_list"]
            var incomeStatement = data["cashflow_statement"]

            for(var i=0; i<incomeStatementTermList.length; i++){
              $("#cashflow_statement_table > thead > tr").append(
                "<th style='width:2px'>"+incomeStatementTermList[i]+"</th>"
              )
            }

            var incomeStatementTable = $("#cashflow_statement_table").DataTable({
              scrollX: "100%",
              scrollY: "600px",
              scrollCollapse: true,
              paging: false,
              ordering: false,
              fixedColumns: { left: "1" },
              language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
              drawCallback: function () { $(".dataTables_paginate > .pagination").addClass("pagination-rounded") }
            })

            var accountList = Object.keys(incomeStatement)
            var newRowList = []
            for(var i=0; i<accountList.length; i++){
              var newRow = []
              var accountName = accountList[i]
              var accountLv = incomeStatement[accountName]["level"].length
              var tabSize = "&nbsp;&nbsp;&nbsp;&nbsp;".repeat(accountLv)

              newRow = Object.values(incomeStatement[accountName]["data_list"])

              newRow.unshift(tabSize+accountName)
              newRowList.push(newRow)
            }

            incomeStatementTable.clear()//기존 데이터 row들 삭제.
            incomeStatementTable.rows.add(newRowList).draw()//정제된 데이터 삽입.
          }
        })

        //공시 테이블.
        $.ajax({
          url: "/pages/ajax/companyinfo/notice?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#noticeItem .loading").css("display","none")
            $("#noticeItem .itemContent").css("display", "block")

            var noticeList = data

            var table = $("#notice-table").DataTable({
              scrollY: false,
              scrollCollapse: !0,
              paging: true,
              ordering: false,
              language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
              drawCallback: function () {
                  $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
              }
            })

            var newRowList = []
            for(var i=0; i<noticeList.length; i++){
              newRowList.push(noticeList[i])
            }

            table.clear()//기존 데이터 row들 삭제.
            table.rows.add(newRowList).draw()//정제된 데이터 삽입.
          }
        })

        //주주 정보 그래프.
        $.ajax({
          url: "/pages/ajax/companyinfo/shareholder?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#shareholderGraphItem .loading").css("display","none")
            $("#shareholderGraphItem .itemContent").css("display", "block")
            $("#shareholderTableItem .loading").css("display","none")
            $("#shareholderTableItem .itemContent").css("display", "block")

            var shareholderTermList = data["shareholder_term_list"]

            var option_list_html = ""
            {#var shareholderTermListAfter = shareholderTermList.slice(term_idx)#}
            for(var i=0; i<shareholderTermList.length; i++){
              option_list_html = option_list_html + "<option value=\""+i+"\">"+shareholderTermList[i]+"</option>"
            }
            $("#shareholder-term-select-start").append(option_list_html)

            //기간 시작 선택시 이벤트.
            $("#shareholder-term-select-start").change(function (){
              var term_idx = $(this).val();//선택된 분기의 index.

              //기간 종료 select 선택 가능하도록 설정, 기간 시작 분기 이후 데이터 렌더링.
              var option_list_html = ""
              {#var shareholderTermListAfter = shareholderTermList.slice(term_idx)#}
              for(var i=term_idx; i<shareholderTermList.length; i++){
                option_list_html = option_list_html + "<option value=\""+i+"\">"+shareholderTermList[i]+"</option>"
              }
              $("#shareholder-term-select-end").append(option_list_html)
              $("#shareholder-term-select-end").attr("disabled", false)
            });
            //기간 종료 선택시 이벤트.
            $("#shareholder-term-select-end").change(function (){
              var term_end_idx = $(this).val();//선택된 분기의 index.
              var term_start_idx = $("#shareholder-term-select-start").val()

              {#주주 정보 그래프 렌더링. #}
              var shareholder_graph_data = data["shareholder_graph_data"]
              var shareholder_graph_timestamp_list = data["shareholder_graph_timestamp_list"]
              shareholder_graph_timestamp_list = shareholder_graph_timestamp_list.slice(parseInt(term_start_idx), parseInt(term_end_idx)+1)

              var e = new Array
              for( var temp_key in shareholder_graph_data){
                e.push({label:temp_key, data: shareholder_graph_data[temp_key].slice(parseInt(term_start_idx), parseInt(term_end_idx)+1), stack:"bb"})
              }
              a = ["#4fc6e1", "#f7b84b", "#4a81d4"], (o = b("#shareholder-graph").data("colors")) && (a = o.split(",")), mainObj.createShareholderGraph("#shareholder-graph",
                      shareholder_graph_timestamp_list, a, e);
            });

            {#주주 정보 그래프 (처음 페이지 들어올시) #}
            var shareholder_graph_data = data["shareholder_graph_data"]
            var shareholder_graph_timestamp_list = data["shareholder_graph_timestamp_list"]
            var e = new Array
            for( var temp_key in shareholder_graph_data){
              e.push({label:temp_key, data: shareholder_graph_data[temp_key], stack:"bb"})
            }
            a = ["#4fc6e1", "#f7b84b", "#4a81d4"], (o = b("#shareholder-graph").data("colors")) && (a = o.split(",")), mainObj.createShareholderGraph("#shareholder-graph",
                    shareholder_graph_timestamp_list, a, e);


            //주주 정보 테이블.
            var tableDataList = data["shareholder_list"]

            for(var i=0; i<shareholderTermList.length; i++){
              $("#shareholder-table > thead > tr").append(
                "<th style='width:2px'>"+shareholderTermList[i]+"</th>"
              )
            }

            var table = $("#shareholder-table").DataTable({
              scrollX: "100%",
              scrollY: "600px",
              scrollCollapse: true,
              paging: false,
              ordering: true,
              order:[[shareholderTermList.length-1, "dsc"]],
              fixedColumns: { left: "1" },
              language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
              drawCallback: function () { $(".dataTables_paginate > .pagination").addClass("pagination-rounded") }
            })

            var accountList = Object.keys(tableDataList)
            var newRowList = []
            for(var i=0; i<accountList.length; i++){
              var newRow = []
              var accountName = accountList[i]

              newRow = Object.values(tableDataList[accountName])

              newRow.unshift(accountName)
              newRowList.push(newRow)
            }

            table.clear()//기존 데이터 row들 삭제.
            table.rows.add(newRowList).draw()//정제된 데이터 삽입.
          }
        })

        //배당 정보 그래프.
        $.ajax({
          url: "/pages/ajax/companyinfo/dividend?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#dividendGraphItem .loading").css("display","none")
            $("#dividendGraphItem .itemContent").css("display", "block")
            $("#dividendTableItem .loading").css("display","none")
            $("#dividendTableItem .itemContent").css("display", "block")

            //좌측 항목 선택 리스트 추가.
            var dividendAccountList = Object.keys(data["dividend_list"])
            for(var i=0; i<dividendAccountList.length; i++){
              $("#dividend-graph-account").append(
                      "<li id='"+dividendAccountList[i]+"'>"+dividendAccountList[i]+"</li>"
              )
            }

            function doToggling(x, target){//항목 선택시, 해당 항목에 대한 그래프 다시 그리는 함수.
              var e = new Array;
              var dividend_graph_data = data["dividend_graph_data"]

              //그래프 옆 항목 리스트 선택됨 표시 수정.
              $("#dividend-graph-account").find("li").each(function (idx, el){
                el.style.fontWeight = "normal"

                if(target===undefined){
                  if(idx===0){el.style.fontWeight = "bold";}
                }
                else{
                  if(target.id===el.id){ el.style.fontWeight = "bold"}
                }
              })

              if(target===undefined){
                var temp_key = Object.keys(dividend_graph_data)[0]
                e.push({label:temp_key, data: dividend_graph_data[temp_key], bars: {order: 1}})
              }
              else{
                e.push({label:target.id, data: dividend_graph_data[target.id], bars: {order: 1}})
              }

              var color_list
              color_list = ["#4fc6e1", "#f7b84b", "#4a81d4"],
              (o = b("#dividend-graph").data("colors")) && (color_list = o.split(",")),
              mainObj.createDividendGraph("#dividend-graph", {}, color_list, e);
            }

            doToggling(mainObj)
            $("#dividend-graph-account").find("li").click(function () {//항목에 클릭 이벤트 핸들러 정의.
                doToggling(mainObj, this);
            });


            //주주 정보 테이블.
            var tableDataList = data["dividend_list"]
            var termList = data["dividend_term_list"]

            for(var i=0; i<termList.length; i++){
              $("#dividend-table > thead > tr").append(
                "<th style='width:10px'>"+termList[i]+"</th>"
              )
            }

            var table = $("#dividend-table").DataTable({
              scrollX: "100%",
              scrollY: "600px",
              scrollCollapse: true,
              paging: false,
              ordering: false,
              fixedColumns: { left: "1" },
              language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
              drawCallback: function () { $(".dataTables_paginate > .pagination").addClass("pagination-rounded") }
            })

            var accountList = Object.keys(tableDataList)
            var newRowList = []
            for(var i=0; i<accountList.length; i++){
              var newRow = []
              var accountName = accountList[i]

              newRow = Object.values(tableDataList[accountName])

              newRow.unshift(accountName)
              newRowList.push(newRow)
            }

            table.clear()//기존 데이터 row들 삭제.
            table.rows.add(newRowList).draw()//정제된 데이터 삽입.
          }
        })

        //평균 급여 및 종업원 수.
        $.ajax({
          url: "/pages/ajax/companyinfo/workerCountPay?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#wcpItem .loading").css("display","none")
            $("#wcpItem .itemContent").css("display", "block")

            //평균급여 및 종업원 수 > 기간 바 렌더링.
            var wcp_term_list = data["wcp_term_list"]
            var wcp_list = data["wcp_list"]
            var wcp_item_list = data["wcp_item_list"]

            $("#wcp_term_list_range").ionRangeSlider({
                grid: !0,
                from: wcp_term_list.length,
                values: wcp_term_list
            })

            for(var i=0; i<wcp_item_list.length; i++){
              $("#wcp-table > thead > tr").append(
                "<th style='width:10px'>"+wcp_item_list[i]+"</th>"
              )
            }

            $("#wcp-table").DataTable({
                scrollX: !0,
                ordering: false,
                language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
                drawCallback: function () {
                    $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
                }
            })

            function changeTableValue(termName) {//항목에 클릭 이벤트 핸들러 정의.
                {#var termName = $(this).val();//선택된 기간 값 가져오기.#}
                var table = $("#wcp-table").DataTable();

                var targetData = wcp_list[termName]//선택된 기간에 해당하는 wcp데이터 추출.
                var newRows = []
                for(var temp_i=0; temp_i<Object.keys(targetData).length; temp_i++){//추출한 데이터(dict형)를 테이블에 삽입할 Array형태로 정제.
                  var category = Object.keys(targetData)[temp_i]//키값인 카테고리 추출.
                  var value_list = Object.values(targetData[category])//value를 array로 변경.
                  value_list.unshift(category)//카테고리값 array 맨 앞에 추가.

                  newRows.push(value_list)//삽입할 데이터 변수에 추가.
                }

                table.clear()//기존 데이터 row들 삭제.
                table.rows.add(newRows).draw()//정제된 데이터 삽입.
            }

            //평균급여 및 종업원 수 분기별 테이블 변경 이벤트 처리.
            $("#wcp_term_list_range").change(function (){
              changeTableValue($(this).val())
            });
            changeTableValue($("#wcp_term_list_range").val())
          }
        })

        //임직원 숫자 추이 그래프.
        $.ajax({
          url: "/pages/ajax/companyinfo/staffNumber?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#staffNumberItem .loading").css("display","none")
            $("#staffNumberItem .itemContent").css("display", "block")

            var e = new Array;
            var staff_number_graph_data = data["staff_number_graph_data"]
            var staff_number_graph_timestamp_list = data["staff_number_graph_timestamp_list"]

            for(var staff_type in staff_number_graph_data){
              e.push({label:staff_type, data: staff_number_graph_data[staff_type], bars: {order: 1}})
            }

            var color_list
            color_list = ["#4fc6e1", "#f7b84b", "#4a81d4"],
            (o = b("#dividend-graph").data("colors")) && (color_list = o.split(",")),
            mainObj.createStaffNumberGraph("#staff-number-graph", {}, color_list, e, staff_number_graph_timestamp_list);
          }
        })

        //이사회 임원 평균 보수액 그래프.
        $.ajax({
          url: "/pages/ajax/companyinfo/boardMemberAverageWage?stock_code="+stockCode,
          success: function (data){
            console.log(data);

            $("#boardMemberAverageWageItem .loading").css("display","none")
            $("#boardMemberAverageWageItem .itemContent").css("display", "block")

            var e = new Array;
            var bm_average_wage_graph_data = data["bm_average_wage_graph_data"]
            var bm_average_wage_graph_timestamp_list = data["bm_average_wage_graph_timestamp_list"]

            e.push({label:"전체", data: bm_average_wage_graph_data["total_wage"], bars: {
              show: true,
              barWidth: 60*60*24*80*1000,//x축(수평그래프라면 y축)의 단위 기준. 현재 y축이 시간 단위이므로, millisecond단위로 값을 주어야 y축에서 그만큼에 해당하는 넓이를 부여함.
              fill: 1,
              horizontal:false,
              order: 1,
              align: "center",
            }, lines:{show: false}})
            e.push({label:"평균", data: bm_average_wage_graph_data["average_wage"], bars: {order: 1}})

            var color_list
            color_list = ["#4fc6e1", "#f7b84b", "#4a81d4"],
            (o = b("#dividend-graph").data("colors")) && (color_list = o.split(",")),
            mainObj.createBoardMemberAverageWageGraph("#board-member-average-wage-graph", {}, color_list, e, bm_average_wage_graph_timestamp_list);
          }
        })

        //이사회 임원 목록.
        $.ajax({
          url: "/pages/ajax/companyinfo/boardMember?stock_code="+stockCode,
          success: function (data){
            console.log(data);
            var boardMemberData = data
            $.ajax({
              url: "/pages/ajax/companyinfo/boardMember?stock_code=" + stockCode,
              success: function (data) {
                console.log(data);

                $("#boardMemberItem .loading").css("display","none")
                $("#boardMemberItem .itemContent").css("display", "block")

                var boardMemberPersonalWage = data

                var board_member_term_list = boardMemberData["term_list"]
                var board_member_list = boardMemberData["list"]
                var bm_personal_wage_list = boardMemberPersonalWage["list"]

                $("#board_member_term_list_range").ionRangeSlider({
                    grid: !0,
                    from: board_member_term_list.length,
                    values: board_member_term_list
                })

                //임직원 목록 및 개별 보수 테이블 초기화.
                var boardMemberItemList = boardMemberData["item_list"]
                for(var i=0; i<boardMemberItemList.length; i++){
                  $("#board-member-table > thead > tr").append(
                    "<th style='width:10px'>"+boardMemberItemList[i]+"</th>"
                  )
                }
                $("#board-member-table").DataTable({
                  scrollY: "600px",
                  ordering: false,
                  paging: false,
                  language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
                  drawCallback: function () {
                      $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
                  }
                })

                var boardMemberPersonalWageItemList = boardMemberPersonalWage["item_list"]
                for(var i=0; i<boardMemberPersonalWageItemList.length; i++){
                  $("#bm-personal-wage-table > thead > tr").append(
                    "<th style='width:10px'>"+boardMemberPersonalWageItemList[i]+"</th>"
                  )
                }
                $("#bm-personal-wage-table").DataTable({
                  scrollY: "600px",
                  ordering: true,
                  order:[[2, "dec"]],
                  paging: false,
                  language: {paginate: {previous: "<i class='mdi mdi-chevron-left'>", next: "<i class='mdi mdi-chevron-right'>"}},
                  drawCallback: function () {
                      $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
                  }
                })

                //이사회 임원 및 평균 보수 분기별 테이블 변경 이벤트 처리.
                function changeBoardMemberTable(termName) {//항목에 클릭 이벤트 핸들러 정의.
                    {#var termName = $(this).val();//선택된 기간 값 가져오기.#}
                    var member_list_table = $("#board-member-table").DataTable();
                    var member_wage_table = $("#bm-personal-wage-table").DataTable();

                    var memberListTargetData = board_member_list[termName]//선택된 기간에 해당하는 wcp데이터 추출.
                    var memberListNewRows = []
                    for(var temp_i=0; temp_i<memberListTargetData.length; temp_i++){//추출한 데이터(dict형)를 테이블에 삽입할 Array형태로 정제.
                      memberListNewRows.push(memberListTargetData[temp_i])//삽입할 데이터 변수에 추가.
                    }

                    var memberWageTargetData = bm_personal_wage_list[termName]
                    var memberWageNewRows = []
                    if(memberWageTargetData !== undefined){
                      for(var temp_i=0; temp_i<memberWageTargetData.length; temp_i++){
                        memberWageNewRows.push(memberWageTargetData[temp_i])
                      }
                    }

                    member_list_table.clear()//기존 데이터 row들 삭제.
                    member_list_table.rows.add(memberListNewRows).draw()//정제된 데이터 삽입.

                    member_wage_table.clear()
                    member_wage_table.rows.add(memberWageNewRows).draw()
                }

                $("#board_member_term_list_range").change(function (){
                  changeBoardMemberTable($(this).val())
                });
                changeBoardMemberTable($("#board_member_term_list_range").val())
              }
            })

          }
        })

        {#배당 정보 그래프. 체크박스용. #}
        {% comment %}function doToggling(x){//체크박스에서 항목 체크시마다 그래프 다시 그리는 함수.
          var e = new Array;
          var dividend_graph_data = {{ dividend_graph_data|safe }};
          //체크박스 목록 반복하며 체크된 항목의 데이터를 그래프의 데이터 목록에 추가.
          $("#dividend-graph-account").find("input[type='checkbox']").each(function (index) {
            if ($(this).is(":checked")) {
                var account_name = $(this).attr("id")
                e.push({label:account_name, data: dividend_graph_data[account_name], bars: {order: index+1}})
            }
          });

          var color_list
          color_list = ["#4fc6e1", "#f7b84b", "#4a81d4"],
          (o = b("#dividend-graph").data("colors")) && (color_list = o.split(",")),
          x.createDividendGraph("#dividend-graph", {}, color_list, e);
        }

        var temp = this
        doToggling(temp)
        $("#dividend-graph-account").find("input[type='checkbox']").click(function () {//체크박스에 클릭이벤트 핸들러 정의.
            doToggling(temp);
        });{% endcomment %}

      }


      for (var c = [], h = [], i = 0; i < 12; i += .2) c.push([i, Math.sin(i + 0)]), h.push([i, Math.cos(i + 0)]);
      var e = new Array
      e = [{data: c, label: "Google"}, {
          data: h,
          label: "Yahoo"
      }], a = ["#6c757d", "#f1556c"], (o = b("#line-chart-alt").data("colors")) && (a = o.split(",")), this.createLineGraph("#line-chart-alt", {
          y: {
              min: -1.2,
              max: 1.2,
              tickColor: "rgba(65, 80, 95, 0.07)",
              font: {color: "#8391a2"}
          }, x: {tickColor: "rgba(65, 80, 95, 0.07)", font: {color: "#8391a2"}}
      }, a, e)
    }, b.FlotChart = new a, b.FlotChart.Constructor = a
  }(window.jQuery), function () {
      "use strict";
      window.jQuery.FlotChart.init()
  }();

  $(document).ready(function () {
    $("#financial-statement-table").DataTable({
      scrollY: "800px",
      scrollX: !0,
      {#scrollCollapse: true,#}
      paging: false,
      language: {
        paginate: {
          previous: "<i class='mdi mdi-chevron-left'>",
          next: "<i class='mdi mdi-chevron-right'>"
        }
      }, drawCallback: function () {
        $(".dataTables_paginate > .pagination").addClass("pagination-rounded")
      }
    });
  });

</script>

{#    range 선택 바. #}
<script src="{% static 'libs/ion-rangeslider/js/ion.rangeSlider.min.js' %}"></script>

<!-- Init js -->
{#<script src="{% static 'js/pages/range-sliders.init.js' %}"></script>#}
  <script>





  </script>

{% endblock %}
